<!DOCTYPE html>
<html>
  <!--app-head-->
  <body>
    <div id="reactele"><!--app-html--></div>
    <script type="module">
      import * as React from "react";
      import * as ReactDOM from "react-dom";
      const hydrate = async () => {
        const templates = import.meta.glob("/src/templates/**/*.(jsx|tsx)");
        const getTemplateName = (path) =>
          path.split("/").pop()?.split(".")[0] || "index";
        const routes = Object.keys(templates).map((path) => {
          return {
            // get the filename from the path and remove its extension, default to index
            name: getTemplateName(path),
            path,
            getComponent: templates[path],
          };
        });
        const templatePath = window._RSS_TEMPLATE_PATH_;
        const template = routes.find((route) =>
          templatePath.endsWith(route.path)
        ) || {
          name: getTemplateName(templatePath),
          path: templatePath,
          getComponent: function () {
            throw new Error("Function not implemented.");
          },
        };
        const { default: Component } = await template.getComponent();
        if (!Component) {
          console.error("Default export missing in template: " + template.path);
          return;
        }
        const container = document.getElementById("reactele");
        ReactDOM.hydrate(
          /* @__PURE__ */ React.createElement(Component, {
            ...window._RSS_PROPS_,
          }),
          container
        );
      };
      hydrate();
    </script>
  </body>
</html>
<script type="text/javascript">
  document.documentElement.setAttribute("lang", window._RSS_LANG_);
</script>
